<div class="container">
    <h1 class="text-center text-primary mt-3">{{title}}</h1>
    <div class="line"></div>
  <div class="container">
      <div class="row">
        <div class="col-lg-7 col-sm-8 d-flex justify-content-center flex-column align-items-center p-3   shadow mx-auto rounded toDo">
          <form   #main="ngForm"  (ngSubmit)="insertdata(main)">
              <input class="form-control col-12 mb-3" type="text" placeholder="Add toDo.." [(ngModel)]="newTask" name="newTask" #ngModel >
              <button class="btn btn-primary text-center col-3" type="submit">Add</button>
          </form>

        </div>
      </div>
  </div>
<br>
@if(toDoList.length > 0){
  <h2 class="text-center text-white">To-Do list</h2>
}
<div class="container">
  <div class="row">
  @for (task of gettasks; track task._id) {
  <div class="col-lg-7 col-sm-8 p-3 rounded shadow d-flex justify-content-between align-items-center mx-auto mb-3 toDoTask">
        <div>
          <input class="form-check-input mx-1" type="checkbox" >
        {{task.newTask}}
        </div>
        <i class="fa-solid fa-trash  del" data-bs-toggle="tooltip" title="Delete task"  (click)="del(task._id)" ></i>

        <button type="button" class="btn btn-primary" data-bs-toggle="modal" [attr.data-bs-target]="'#exampleModal' +  task._id">
          update
        </button>
    
        <div class="modal fade" [id]="'exampleModal' +  task._id" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <h1 class="modal-title fs-5" id="exampleModalLabel">Modal title</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <form #main="ngForm" (ngSubmit)="editdata(main)">
              <div class="modal-body">
                <input type="text" class="form-control" name="newTask"  [(ngModel)]="task.newTask"  #ngModel >
                <input type="hidden" class="form-control" name="_id"   [(ngModel)]="task._id" #ngModel >
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="submit" class="btn btn-primary"  >Save changes</button>
              </div>
              </form>
    
            </div>
          </div>
        </div>
    
</div>
  }
</div>

</div>
